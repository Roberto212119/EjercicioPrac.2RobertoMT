<!DOCTYPE html>
<div th:fragment="content">
  <h2 th:text="${usuario.id} != null ? 'Editar Usuario' : 'Nuevo Usuario'"></h2>
  <form th:action="@{/admin/usuarios/guardar}" method="post" th:object="${usuario}">
    <input type="hidden" th:field="*{id}">
    <label>Nombre</label><input th:field="*{nombre}">
    <label>Apellido</label><input th:field="*{apellido}">
    <label>Email</label><input th:field="*{email}">
    <label>Password</label><input th:field="*{password}" type="text">
    <label>Activo</label><input type="checkbox" th:field="*{activo}">
    <label>Rol</label>
    <select name="rolId">
      <option th:each="r: ${roles}" th:value="${r.id}" th:text="${r.nombre}"
              th:selected="${usuario.rol != null} ? ${usuario.rol.id} == ${r.id} : false"></option>
    </select>
    <button type="submit">Guardar</button>
  </form>
</div>
